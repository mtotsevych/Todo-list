{% extends "base.html" %}

{% block content %}
  <h1>
    TODO list
    <a href="{% url "todo_app:task-create" %}" class="btn btn-primary link-to-page">
      Add task
    </a>
  </h1>
  <ul style="list-style: none;" class="page_list">
    {% for task in task_list %}
      <h4>
        {{ task }}
        {% if task.is_completed %}
          <span style="color: darkgreen">Done</span>
          <a href="{% url "todo_app:task-complete-incomplete" %}" class="btn btn-secondary link-to-page">
            Undo
          </a>
        {% else %}
          <span style="color: red">Not Done</span>
          <a href="{% url "todo_app:task-complete-incomplete" %}" class="btn btn-success link-to-page">
            Complete
          </a>
      </h4>
      <br>
      <p>Created: {{ task.created_at }}.</p>
      <p style="color: grey; font-size: 15px">
        Tags:
          {% for tag in task.tags.all %}
            <span>{{ tag }}</span>
          {% empty %}
            <span>No tags.</span>
          {% endfor %}
        <a href="{% url "todo_app:task-update" task.pk %}">Update</a>
        <a href="{% url "todo_app:task-delete" task.pk %}">Delete</a>
      </p>
      <p><strong>Content:</strong> {{ post.content }}</p>
      <p><strong>Number of comments:</strong> {{ post.comments.count }}</p>
      <br>
    {% empty %}
      <p>No tasks.</p>
    {% endfor %}
  </ul>
{% endblock %}
